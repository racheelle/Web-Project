<%- include("../includes/head") %>
<link rel="stylesheet" href="/css/admin.css">

<div class="admin-container">

  <aside class="admin-sidebar">
    <h2>Zahle Admin</h2>
    <a href="/admin">Dashboard</a>
    <a href="/admin/messages">Messages</a>
    <a class="active" href="/admin/places">Manage Places</a>
    <a href="/admin/places/add">Add Place</a>
     <a href="/admin/admins">Manage Admins</a>
    <a href="/" class="back-home">Back to Homepage</a>
    <a href="/logout">Logout</a>

    
  </aside>

  <main class="admin-main">
    <h1>Manage Places</h1>

    <table class="admin-table">
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Category</th>
        <th>Actions</th>
      </tr>

      <% places.forEach(p => { %>
        <tr>
          <td><%= p.id %></td>
          <td><%= p.name %></td>
          <td><%= p.category %></td>
          <td>
            <a href="/admin/places/edit/<%= p.id %>" class="btn-edit">Edit</a>
           <button 
  class="btn-delete" 
  data-id="<%= p.id %>" 
  data-name="<%= p.name %>">
  Delete
</button>

          </td>
        </tr>
      <% }) %>
    </table>
  </main>




  <!-- DELETE MODAL -->
<div id="deleteModal" class="modal">
  <div class="modal-content">
    <h3>Delete Place</h3>
    <p id="modalText">Are you sure you want to delete this place?</p>

    <div class="modal-actions">
      <form id="deleteForm" method="POST">
        <button class="yes">Yes</button>
      </form>
      <button class="no" id="closeModal">Cancel</button>
    </div>
  </div>
</div>

<script src="/js/deletePlace.js"></script>


</div>
